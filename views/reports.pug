doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  meta(http-equiv='X-UA-Compatible' content='ie=edge')
  title Manager
  link(rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:400,700')
  // https://fonts.google.com/specimen/Roboto
  link(rel='stylesheet' href='/css/fontawesome.min.css')
  // https://fontawesome.com/
  link(rel='stylesheet' href='/jquery-ui-datepicker/jquery-ui.min.css' type='text/css')
  // http://api.jqueryui.com/datepicker/
  link(rel='stylesheet' href='/css/bootstrap.min.css')
  // https://getbootstrap.com/
  link(rel='stylesheet' href='/css/templatemo-style.css')
  link(rel='stylesheet' href='/css/add-produce.css')
  //
    Product Admin CSS Template
    https://templatemo.com/tm-524-product-admin
nav.navbar.navbar-expand-xl
  .container.h-100
    a.navbar-brand(href='ProduceList')
      h1.tm-site-title.mb-0 Mnager Dashboard
    button.navbar-toggler.ml-auto.mr-0(type='button' data-toggle='collapse' data-target='#navbarSupportedContent' aria-controls='navbarSupportedContent' aria-expanded='false' aria-label='Toggle navigation')
      i.fas.fa-bars.tm-nav-icon
    #navbarSupportedContent.collapse.navbar-collapse
      ul.navbar-nav.mx-auto.h-100
        li.nav-item
          a.nav-link(href='produceList')
            i.fas.fa-tachometer-alt
            |  Dashboard
            span.sr-only (current)
        li.nav-item.dropdown
          a#navbarDropdown.nav-link.dropdown-toggle(href='#' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
            i.far.fa-file-alt
            span
              | Reports 
              i.fas.fa-angle-down
          .dropdown-menu(aria-labelledby='navbarDropdown')
            a.dropdown-item(href='#') Daily Report
            a.dropdown-item(href='#') Weekly Report
            a.dropdown-item(href='#') Yearly Report
        li.nav-item.dropdown
          a#navbarDropdown.nav-link.dropdown-toggle(href='#' role='button' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false')
            i.far.fa-file-alt
            span
              | Sales 
              i.fas.fa-angle-down
          .dropdown-menu(aria-labelledby='navbarDropdown')
            a.dropdown-item(href='salesList') Sales List
            a.dropdown-item(href='Procurements') Procurements
            a.dropdown-item(href='addSale') Add Sales
      ul.navbar-nav
        li.nav-item
          a.nav-link.d-block(href='login.html')
            | Manager, 
            b Logout
.container.tm-mt-big.tm-mb-big
    .col-xl-9.col-lg-10.col-md-12.col-sm-12.mx-auto
      .tm-bg-primary-dark.tm-block.tm-block-h-auto
        .row
          .col-12
            h2.tm-block-title.d-inline-block Revenue Report
        // <div class="row tm-edit-product-row">
        // <div class="col-xl-6 col-lg-6 col-md-12">
        .header
                .row
                    .col-md-6.mx-auto
                        h4.mb-4 Cereals Report
                        .card.card-custom.mb-3
                            .card-body
                                h6 Quantity in Stock: #{new Intl.NumberFormat().format(totalcereals.stockQuantity)} Kg
                                h6 Total Expense: #{new Intl.NumberFormat().format(totalcereals.totalExpense)} UGX
                                h6 Projected Revenue: #{new Intl.NumberFormat().format(totalcereals.totalProjectedRevenue)} UGX
                                h6 Projected Profits: #{new Intl.NumberFormat().format(totalcereals.totalProjectedRevenue - totalcereals.totalExpense)} UGX
                .row
                    .col-md-6.mx-auto
                        h4.mb-4 Legumes Report
                        .card.card-custom.mb-3
                            .card-body
                                h6 Quantity in Stock: #{new Intl.NumberFormat().format(totallegumes.stockQuantity)} Kg
                                h6 Total Expense: #{new Intl.NumberFormat().format(totallegumes.totalExpense)} UGX
                                h6 Projected Revenue: #{new Intl.NumberFormat().format(totallegumes.totalProjectedRevenue)} UGX
                                h6 Projected Profits: #{new Intl.NumberFormat().format(totallegumes.totalProjectedRevenue - totallegumes.totalExpense)} UGX
                .form-row.mt-4
                    .col-md-12
                        form.search(action='/reports', method='get')
                            .form-row
                                .col-md-8
                                    select.form-control(name='searchProduce')
                                        option(value='') Select Produce
                                        option(value='Beans') Beans
                                        option(value='CowPeas') CowPeas
                                        option(value='GrainMaize') GrainMaize
                                        option(value='GroundNuts') GroundNuts
                                        option(value='SoyaBeans') SoyaBeans
                                        option(value='Peas') Peas
                                .col-md-4
                                    input.btn.btn-primary.btn-block(type="submit", value="Search")
                table.table.table-striped.mt-4
                    thead
                        tr
                            th(scope='col') Produce Name
                            th(scope='col') Tonnage (Kg)
                            th(scope='col') Produce Cost per Kg (UGX)
                            th(scope='col') Revenue Projected (UGX)
                            th(scope='col') Profits Projected (UGX)
                    tbody
                        if produces.length
                            each produce in produces
                                tr
                                    td #{produce.producename}
                                    td #{new Intl.NumberFormat().format(produce.tonnage)}
                                    td #{new Intl.NumberFormat().format(produce.sellingpriceperkg)} <!-- Corrected here -->
                                    td #{new Intl.NumberFormat().format(produce.revenueProjected)}
                                    td #{new Intl.NumberFormat().format(produce.profitsProjected)}
                        else
                            tr
                                td(colspan="5") No data available or select a crop.
                        tr
                            th Totals
                            td #{new Intl.NumberFormat().format(totalcrop.stockQuantity)}
                            td #{new Intl.NumberFormat().format(totalcrop.totalExpense)}
                            td #{new Intl.NumberFormat().format(totalcrop.totalProjectedRevenue)}
                            td #{new Intl.NumberFormat().format(totalcrop.totalProjectedRevenue - totalcrop.totalExpense)}


footer.tm-footer.row.tm-mt-small
  .col-12.font-weight-light
    p.text-center.text-white.mb-0.px-4.small
        |Copyright &copy; 
        b 2018
        |  All rights reserved. 
        |             Design: 
        a.tm-footer-link(rel='nofollow noopener' href='https://arindashiphura.github.io/Arinda-web/') Arinda@Shiphura
  script(src='js/jquery-3.3.1.min.js')
  script(src='js/add-produce.js')
  // https://jquery.com/download/
  script(src='jquery-ui-datepicker/jquery-ui.min.js')
  // https://jqueryui.com/download/
  script(src='/js/bootstrap.min.js')
  // https://getbootstrap.com/
  script.
    $(function() {
    $("#expire_date").datepicker();
    });
